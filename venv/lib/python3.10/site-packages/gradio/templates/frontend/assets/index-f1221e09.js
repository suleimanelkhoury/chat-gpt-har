import{S as D,i as G,s as H,G as M,H as N,e as J,C as g,g as q,m as K,J as j,p as S,t as V,q as I,n as T,V as O,r as W,a4 as P,a6 as Q,a7 as R,a8 as Y,b as Z,$ as x,I as p,K as $,a1 as ee,al as ie,y as le}from"./index-188ef5e8.js";import{a as ne}from"./Button-04f93a38.js";import{b as te}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";/* empty css                                                    */import{X as ae}from"./Blocks-658f67b5.js";function se(n){let e;const i=n[16].default,l=P(i,n,n[18],null);return{c(){l&&l.c()},m(s,u){l&&l.m(s,u),e=!0},p(s,u){l&&l.p&&(!e||u&262144)&&Q(l,i,s,s[18],e?Y(i,s[18],u,null):R(s[18]),null)},i(s){e||(S(l,s),e=!0)},o(s){V(l,s),e=!1},d(s){l&&l.d(s)}}}function fe(n){let e,i,l,s,u,o,c,d,r;return o=new ne({props:{size:n[4],variant:n[8],elem_id:n[0],elem_classes:n[1],visible:n[2],scale:n[5],min_width:n[6],disabled:n[7]==="static",$$slots:{default:[se]},$$scope:{ctx:n}}}),o.$on("click",n[11]),{c(){e=M("input"),u=N(),J(o.$$.fragment),g(e,"class","hide svelte-ydeks8"),g(e,"accept",n[10]),g(e,"type","file"),e.multiple=i=n[3]==="multiple"||void 0,g(e,"webkitdirectory",l=n[3]==="directory"||void 0),g(e,"mozdirectory",s=n[3]==="directory"||void 0)},m(f,_){q(f,e,_),n[17](e),q(f,u,_),K(o,f,_),c=!0,d||(r=[j(e,"change",n[12]),j(e,"click",n[13])],d=!0)},p(f,[_]){(!c||_&1024)&&g(e,"accept",f[10]),(!c||_&8&&i!==(i=f[3]==="multiple"||void 0))&&(e.multiple=i),(!c||_&8&&l!==(l=f[3]==="directory"||void 0))&&g(e,"webkitdirectory",l),(!c||_&8&&s!==(s=f[3]==="directory"||void 0))&&g(e,"mozdirectory",s);const m={};_&16&&(m.size=f[4]),_&256&&(m.variant=f[8]),_&1&&(m.elem_id=f[0]),_&2&&(m.elem_classes=f[1]),_&4&&(m.visible=f[2]),_&32&&(m.scale=f[5]),_&64&&(m.min_width=f[6]),_&128&&(m.disabled=f[7]==="static"),_&262144&&(m.$$scope={dirty:_,ctx:f}),o.$set(m)},i(f){c||(S(o.$$.fragment,f),c=!0)},o(f){V(o.$$.fragment,f),c=!1},d(f){f&&I(e),n[17](null),f&&I(u),T(o,f),d=!1,O(r)}}}function ue(n,e,i){let{$$slots:l={},$$scope:s}=e,{elem_id:u=""}=e,{elem_classes:o=[]}=e,{visible:c=!0}=e,{file_count:d}=e,{file_types:r=["file"]}=e,{include_file_metadata:f=!0}=e,{size:_="lg"}=e,{scale:m=1}=e,{min_width:v=void 0}=e,{mode:k="dynamic"}=e,{variant:A="secondary"}=e,w;const E=W();let z;r==null?z=null:(r=r.map(a=>a.startsWith(".")?a:a+"/*"),z=r.join(", "));const F=()=>{w.click()},t=a=>{let h=Array.from(a);if(a.length){d==="single"&&(h=[a[0]]);var B=[];h.forEach((U,X)=>{B[X]=f?{name:U.name,size:U.size,data:"",blob:U}:U,B.filter(L=>L!==void 0).length===a.length&&E("load",d=="single"?B[0]:B)})}},C=a=>{const h=a.target;h.files&&t(h.files)},y=a=>{const h=a.target;h.value&&(h.value="")};function b(a){Z[a?"unshift":"push"](()=>{w=a,i(9,w)})}return n.$$set=a=>{"elem_id"in a&&i(0,u=a.elem_id),"elem_classes"in a&&i(1,o=a.elem_classes),"visible"in a&&i(2,c=a.visible),"file_count"in a&&i(3,d=a.file_count),"file_types"in a&&i(14,r=a.file_types),"include_file_metadata"in a&&i(15,f=a.include_file_metadata),"size"in a&&i(4,_=a.size),"scale"in a&&i(5,m=a.scale),"min_width"in a&&i(6,v=a.min_width),"mode"in a&&i(7,k=a.mode),"variant"in a&&i(8,A=a.variant),"$$scope"in a&&i(18,s=a.$$scope)},[u,o,c,d,_,m,v,k,A,w,z,F,C,y,r,f,l,b,s]}class _e extends D{constructor(e){super(),G(this,e,ue,fe,H,{elem_id:0,elem_classes:1,visible:2,file_count:3,file_types:14,include_file_metadata:15,size:4,scale:5,min_width:6,mode:7,variant:8})}}function me(n){let e=n[11](n[3])+"",i;return{c(){i=p(e)},m(l,s){q(l,i,s)},p(l,s){s&2056&&e!==(e=l[11](l[3])+"")&&$(i,e)},d(l){l&&I(i)}}}function oe(n){let e,i;return e=new _e({props:{elem_id:n[0],elem_classes:n[1],visible:n[2],file_count:n[4],file_types:n[5],size:n[6],scale:n[7],min_width:n[8],mode:n[9],variant:n[10],$$slots:{default:[me]},$$scope:{ctx:n}}}),e.$on("click",n[15]),e.$on("load",n[12]),{c(){J(e.$$.fragment)},m(l,s){K(e,l,s),i=!0},p(l,[s]){const u={};s&1&&(u.elem_id=l[0]),s&2&&(u.elem_classes=l[1]),s&4&&(u.visible=l[2]),s&16&&(u.file_count=l[4]),s&32&&(u.file_types=l[5]),s&64&&(u.size=l[6]),s&128&&(u.scale=l[7]),s&256&&(u.min_width=l[8]),s&512&&(u.mode=l[9]),s&1024&&(u.variant=l[10]),s&133128&&(u.$$scope={dirty:s,ctx:l}),e.$set(u)},i(l){i||(S(e.$$.fragment,l),i=!0)},o(l){V(e.$$.fragment,l),i=!1},d(l){T(e,l)}}}function ce(n,e,i){let l;x(n,ae,t=>i(11,l=t));let{elem_id:s=""}=e,{elem_classes:u=[]}=e,{visible:o=!0}=e,{label:c}=e,{value:d}=e,{file_count:r}=e,{file_types:f=["file"]}=e,{root:_}=e,{size:m="lg"}=e,{scale:v=1}=e,{min_width:k=void 0}=e,{mode:A="dynamic"}=e,{variant:w="secondary"}=e;async function E({detail:t}){i(13,d=t),await ee();let C=(Array.isArray(t)?t:[t]).map(y=>y.blob);ie(_,C).then(async y=>{y.error?(Array.isArray(t)?t:[t]).forEach(async(b,a)=>{b.data=await te(b.blob)}):(Array.isArray(t)?t:[t]).forEach((b,a)=>{y.files&&(b.orig_name=b.name,b.name=y.files[a],b.is_file=!0)}),z("change",d),z("upload",t)})}const z=W();function F(t){le.call(this,n,t)}return n.$$set=t=>{"elem_id"in t&&i(0,s=t.elem_id),"elem_classes"in t&&i(1,u=t.elem_classes),"visible"in t&&i(2,o=t.visible),"label"in t&&i(3,c=t.label),"value"in t&&i(13,d=t.value),"file_count"in t&&i(4,r=t.file_count),"file_types"in t&&i(5,f=t.file_types),"root"in t&&i(14,_=t.root),"size"in t&&i(6,m=t.size),"scale"in t&&i(7,v=t.scale),"min_width"in t&&i(8,k=t.min_width),"mode"in t&&i(9,A=t.mode),"variant"in t&&i(10,w=t.variant)},[s,u,o,c,r,f,m,v,k,A,w,l,E,d,_,F]}class de extends D{constructor(e){super(),G(this,e,ce,oe,H,{elem_id:0,elem_classes:1,visible:2,label:3,value:13,file_count:4,file_types:5,root:14,size:6,scale:7,min_width:8,mode:9,variant:10})}}const ye=de,ze=["static","dynamic"];export{ye as Component,ze as modes};
//# sourceMappingURL=index-f1221e09.js.map
