import{S as oe,i as ae,s as _e,R as ue,H as N,f as Ce,g as I,J as K,p as y,l as W,t as z,o as X,q as L,r as De,e as q,m as H,n as M,a1 as Ee,b as x,G as E,C as w,M as B,D as F,E as A,am as Ie,N as ce,L as T,V as Le,I as ge,K as me,x as Ne,a9 as Re,h as qe,j as He,y as Me}from"./index-9daee1c1.js";import{B as Se}from"./Button-96ce4466.js";import{B as Te}from"./BlockLabel-f3ee7a83.js";import{E as Ve}from"./Empty-1b122136.js";import{n as $}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";import{M as Je}from"./ModifyUpload-27828dac.js";/* empty css                                                    */import{I as he}from"./Image-65b8cb85.js";function ee(t,l,e){const i=t.slice();return i[37]=l[e][0],i[38]=l[e][1],i[40]=e,i}function le(t,l,e){const i=t.slice();return i[37]=l[e],i[41]=l,i[40]=e,i}function te(t){let l,e;return l=new Te({props:{show_label:t[1],Icon:he,label:t[2]||"Gallery",disable:t[0]===!1}}),{c(){q(l.$$.fragment)},m(i,n){H(l,i,n),e=!0},p(i,n){const a={};n[0]&2&&(a.show_label=i[1]),n[0]&4&&(a.label=i[2]||"Gallery"),n[0]&1&&(a.disable=i[0]===!1),l.$set(a)},i(i){e||(y(l.$$.fragment,i),e=!0)},o(i){z(l.$$.fragment,i),e=!1},d(i){M(l,i)}}}function Ke(t){let l,e,i,n,a,b,s=t[7]!==null&&t[5]&&ie(t),_=t[10],c=[];for(let r=0;r<_.length;r+=1)c[r]=fe(ee(t,_,r));return{c(){s&&s.c(),l=N(),e=E("div"),i=E("div");for(let r=0;r<c.length;r+=1)c[r].c();w(i,"class","grid-container svelte-g4rw9"),w(i,"style",n=t[13]+" "+t[14]),B(i,"pt-6",t[1]),F(i,"object_fit",t[6]),w(e,"class","grid-wrap svelte-g4rw9"),ue(()=>t[33].call(e)),B(e,"fixed-height",!t[4]||t[4]=="auto")},m(r,g){s&&s.m(r,g),I(r,l,g),I(r,e,g),A(e,i);for(let o=0;o<c.length;o+=1)c[o]&&c[o].m(i,null);a=Ie(e,t[33].bind(e)),b=!0},p(r,g){if(r[7]!==null&&r[5]?s?(s.p(r,g),g[0]&160&&y(s,1)):(s=ie(r),s.c(),y(s,1),s.m(l.parentNode,l)):s&&(W(),z(s,1,1,()=>{s=null}),X()),g[0]&33920){_=r[10];let h;for(h=0;h<_.length;h+=1){const d=ee(r,_,h);c[h]?c[h].p(d,g):(c[h]=fe(d),c[h].c(),c[h].m(i,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=_.length}(!b||g[0]&24576&&n!==(n=r[13]+" "+r[14]))&&w(i,"style",n),(!b||g[0]&2)&&B(i,"pt-6",r[1]),(g[0]&24576||g[0]&24640)&&F(i,"object_fit",r[6]),(!b||g[0]&16)&&B(e,"fixed-height",!r[4]||r[4]=="auto")},i(r){b||(y(s),b=!0)},o(r){z(s),b=!1},d(r){s&&s.d(r),r&&L(l),r&&L(e),ce(c,r),a()}}}function Ue(t){let l,e;return l=new Ve({props:{unpadded_box:!0,size:"large",$$slots:{default:[Fe]},$$scope:{ctx:t}}}),{c(){q(l.$$.fragment)},m(i,n){H(l,i,n),e=!0},p(i,n){const a={};n[1]&2048&&(a.$$scope={dirty:n,ctx:i}),l.$set(a)},i(i){e||(y(l.$$.fragment,i),e=!0)},o(i){z(l.$$.fragment,i),e=!1},d(i){M(l,i)}}}function ie(t){let l,e,i,n,a,b,s,_,c,r,g,o,h;e=new Je({}),e.$on("clear",t[27]);let d=t[10][t[7]][1]&&ne(t),G=t[10],k=[];for(let m=0;m<G.length;m+=1)k[m]=re(le(t,G,m));return{c(){l=E("div"),q(e.$$.fragment),i=N(),n=E("img"),_=N(),d&&d.c(),c=N(),r=E("div");for(let m=0;m<k.length;m+=1)k[m].c();w(n,"data-testid","detailed-image"),T(n.src,a=t[10][t[7]][0].data)||w(n,"src",a),w(n,"alt",b=t[10][t[7]][1]||""),w(n,"title",s=t[10][t[7]][1]||null),F(n,"height","calc(100% - "+(t[10][t[7]][1]?"80px":"60px")+")"),w(n,"class","svelte-g4rw9"),B(n,"with-caption",!!t[10][t[7]][1]),w(r,"class","thumbnails scroll-hide svelte-g4rw9"),w(l,"class","preview svelte-g4rw9"),B(l,"fixed-height",t[4]!=="auto")},m(m,j){I(m,l,j),H(e,l,null),A(l,i),A(l,n),A(l,_),d&&d.m(l,null),A(l,c),A(l,r);for(let v=0;v<k.length;v+=1)k[v]&&k[v].m(r,null);t[31](r),g=!0,o||(h=[K(n,"click",t[28]),K(l,"keydown",t[17])],o=!0)},p(m,j){if((!g||j[0]&1152&&!T(n.src,a=m[10][m[7]][0].data))&&w(n,"src",a),(!g||j[0]&1152&&b!==(b=m[10][m[7]][1]||""))&&w(n,"alt",b),(!g||j[0]&1152&&s!==(s=m[10][m[7]][1]||null))&&w(n,"title",s),(!g||j[0]&1152)&&F(n,"height","calc(100% - "+(m[10][m[7]][1]?"80px":"60px")+")"),(!g||j[0]&1152)&&B(n,"with-caption",!!m[10][m[7]][1]),m[10][m[7]][1]?d?d.p(m,j):(d=ne(m),d.c(),d.m(l,c)):d&&(d.d(1),d=null),j[0]&3200){G=m[10];let v;for(v=0;v<G.length;v+=1){const C=le(m,G,v);k[v]?k[v].p(C,j):(k[v]=re(C),k[v].c(),k[v].m(r,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=G.length}(!g||j[0]&16)&&B(l,"fixed-height",m[4]!=="auto")},i(m){g||(y(e.$$.fragment,m),g=!0)},o(m){z(e.$$.fragment,m),g=!1},d(m){m&&L(l),M(e),d&&d.d(),ce(k,m),t[31](null),o=!1,Le(h)}}}function ne(t){let l,e=t[10][t[7]][1]+"",i;return{c(){l=E("div"),i=ge(e),w(l,"class","caption svelte-g4rw9")},m(n,a){I(n,l,a),A(l,i)},p(n,a){a[0]&1152&&e!==(e=n[10][n[7]][1]+"")&&me(i,e)},d(n){n&&L(l)}}}function re(t){let l,e,i,n,a,b,s=t[40],_,c;const r=()=>t[29](l,s),g=()=>t[29](null,s);function o(){return t[30](t[40])}return{c(){l=E("button"),e=E("img"),b=N(),T(e.src,i=t[37][0].data)||w(e,"src",i),w(e,"title",n=t[37][1]||null),w(e,"alt",a=t[37][1]||null),w(e,"class","svelte-g4rw9"),w(l,"class","thumbnail-item thumbnail-small svelte-g4rw9"),B(l,"selected",t[7]===t[40])},m(h,d){I(h,l,d),A(l,e),A(l,b),r(),_||(c=K(l,"click",o),_=!0)},p(h,d){t=h,d[0]&1024&&!T(e.src,i=t[37][0].data)&&w(e,"src",i),d[0]&1024&&n!==(n=t[37][1]||null)&&w(e,"title",n),d[0]&1024&&a!==(a=t[37][1]||null)&&w(e,"alt",a),s!==t[40]&&(g(),s=t[40],r()),d[0]&128&&B(l,"selected",t[7]===t[40])},d(h){h&&L(l),g(),_=!1,c()}}}function se(t){let l,e=t[38]+"",i;return{c(){l=E("div"),i=ge(e),w(l,"class","caption-label svelte-g4rw9")},m(n,a){I(n,l,a),A(l,i)},p(n,a){a[0]&1024&&e!==(e=n[38]+"")&&me(i,e)},d(n){n&&L(l)}}}function fe(t){let l,e,i,n,a,b,s,_,c=t[38]&&se(t);function r(){return t[32](t[40])}return{c(){l=E("button"),e=E("img"),a=N(),c&&c.c(),b=N(),w(e,"alt",i=t[38]||""),T(e.src,n=typeof t[37]=="string"?t[37]:t[37].data)||w(e,"src",n),w(e,"class","svelte-g4rw9"),w(l,"class","thumbnail-item thumbnail-lg svelte-g4rw9"),B(l,"selected",t[7]===t[40])},m(g,o){I(g,l,o),A(l,e),A(l,a),c&&c.m(l,null),A(l,b),s||(_=K(l,"click",r),s=!0)},p(g,o){t=g,o[0]&1024&&i!==(i=t[38]||"")&&w(e,"alt",i),o[0]&1024&&!T(e.src,n=typeof t[37]=="string"?t[37]:t[37].data)&&w(e,"src",n),t[38]?c?c.p(t,o):(c=se(t),c.c(),c.m(l,b)):c&&(c.d(1),c=null),o[0]&128&&B(l,"selected",t[7]===t[40])},d(g){g&&L(l),c&&c.d(),s=!1,_()}}}function Fe(t){let l,e;return l=new he({}),{c(){q(l.$$.fragment)},m(i,n){H(l,i,n),e=!0},i(i){e||(y(l.$$.fragment,i),e=!0)},o(i){z(l.$$.fragment,i),e=!1},d(i){M(l,i)}}}function Oe(t){let l,e,i,n,a,b,s;ue(t[26]);let _=t[1]&&te(t);const c=[Ue,Ke],r=[];function g(o,h){return o[3]===null||o[10]===null||o[10].length===0?0:1}return e=g(t),i=r[e]=c[e](t),{c(){_&&_.c(),l=N(),i.c(),n=Ce()},m(o,h){_&&_.m(o,h),I(o,l,h),r[e].m(o,h),I(o,n,h),a=!0,b||(s=K(window,"resize",t[26]),b=!0)},p(o,h){o[1]?_?(_.p(o,h),h[0]&2&&y(_,1)):(_=te(o),_.c(),y(_,1),_.m(l.parentNode,l)):_&&(W(),z(_,1,1,()=>{_=null}),X());let d=e;e=g(o),e===d?r[e].p(o,h):(W(),z(r[d],1,1,()=>{r[d]=null}),X(),i=r[e],i?i.p(o,h):(i=r[e]=c[e](o),i.c()),y(i,1),i.m(n.parentNode,n))},i(o){a||(y(_),y(i),a=!0)},o(o){z(_),z(i),a=!1},d(o){_&&_.d(o),o&&L(l),r[e].d(o),o&&L(n),b=!1,s()}}}function Pe(t,l,e){let i,n,a,b,{container:s=!0}=l,{show_label:_=!0}=l,{label:c}=l,{root:r=""}=l,{root_url:g=null}=l,{value:o=null}=l,{grid_cols:h=[2]}=l,{grid_rows:d=void 0}=l,{height:G="auto"}=l,{preview:k}=l,{allow_preview:m=!0}=l,{object_fit:j="cover"}=l;const v=De();let C=!0,V=o,f=k&&o?.length?0:null,O=f;function de(u){switch(u.code){case"Escape":u.preventDefault(),e(7,f=null);break;case"ArrowLeft":u.preventDefault(),e(7,f=n);break;case"ArrowRight":u.preventDefault(),e(7,f=a);break}}let J=[],S;async function be(u){if(typeof u!="number")return;await Ee(),J[u].focus();const{left:D,width:Q}=S.getBoundingClientRect(),{left:R,width:Be}=J[u].getBoundingClientRect(),p=R-D+Be/2-Q/2+S.scrollLeft;S.scrollTo({left:p<0?0:p,behavior:"smooth"})}let U=0,P=0,Y="",Z="";function we(){e(9,P=window.innerHeight)}const ke=()=>e(7,f=null),ve=()=>e(7,f=a);function je(u,D){x[u?"unshift":"push"](()=>{J[D]=u,e(11,J)})}const ye=u=>e(7,f=u);function Ae(u){x[u?"unshift":"push"](()=>{S=u,e(12,S)})}const ze=u=>e(7,f=b?u:f);function Ge(){U=this.clientHeight,e(8,U)}return t.$$set=u=>{"container"in u&&e(0,s=u.container),"show_label"in u&&e(1,_=u.show_label),"label"in u&&e(2,c=u.label),"root"in u&&e(18,r=u.root),"root_url"in u&&e(19,g=u.root_url),"value"in u&&e(3,o=u.value),"grid_cols"in u&&e(20,h=u.grid_cols),"grid_rows"in u&&e(21,d=u.grid_rows),"height"in u&&e(4,G=u.height),"preview"in u&&e(22,k=u.preview),"allow_preview"in u&&e(5,m=u.allow_preview),"object_fit"in u&&e(6,j=u.object_fit)},t.$$.update=()=>{if(t.$$.dirty[0]&8388616&&e(23,C=o==null||o.length==0?!0:C),t.$$.dirty[0]&786440&&e(10,i=o===null?null:o.map(u=>Array.isArray(u)?[$(u[0],r,g),u[1]]:[$(u,r,g),null])),t.$$.dirty[0]&29360264&&V!==o&&(C?(e(7,f=k&&o?.length?0:null),e(23,C=!1)):e(7,f=f!==null&&o!==null&&f<o.length?f:null),e(24,V=o)),t.$$.dirty[0]&1152&&(n=((f??0)+(i?.length??0)-1)%(i?.length??0)),t.$$.dirty[0]&1152&&e(16,a=((f??0)+1)%(i?.length??0)),t.$$.dirty[0]&33555584&&f!==O&&(e(25,O=f),f!==null&&v("select",{index:f,value:i?.[f][1]})),t.$$.dirty[0]&160&&m&&be(f),t.$$.dirty[0]&768&&e(15,b=P>=U),t.$$.dirty[0]&1048576){let u=["","sm-","md-","lg-","xl-","2xl-"],D=Array.isArray(h)?h:[h];e(13,Y=[0,0,0,0,0,0].map((Q,R)=>`--${u[R]}grid-cols: var(--grid-${D?.[R]||D?.[D?.length-1]});`).join(" "))}if(t.$$.dirty[0]&2097152){let u=["","sm-","md-","lg-","xl-","2xl-"],D=Array.isArray(d)?d:[d];e(14,Z=[0,0,0,0,0,0].map((Q,R)=>`--${u[R]}grid-rows: var(--grid-${D?.[R]||D?.[D?.length-1]});`).join(" "))}},[s,_,c,o,G,m,j,f,U,P,i,J,S,Y,Z,b,a,de,r,g,h,d,k,C,V,O,we,ke,ve,je,ye,Ae,ze,Ge]}class Qe extends oe{constructor(l){super(),ae(this,l,Pe,Oe,_e,{container:0,show_label:1,label:2,root:18,root_url:19,value:3,grid_cols:20,grid_rows:21,height:4,preview:22,allow_preview:5,object_fit:6},null,[-1,-1])}}function We(t){let l,e,i,n;const a=[t[0]];let b={};for(let s=0;s<a.length;s+=1)b=Ne(b,a[s]);return l=new Re({props:b}),i=new Qe({props:{label:t[2],value:t[8],show_label:t[1],root:t[3],root_url:t[4],grid_cols:t[12],grid_rows:t[13],height:t[14],preview:t[15],object_fit:t[17],allow_preview:t[16]}}),i.$on("select",t[18]),{c(){q(l.$$.fragment),e=N(),q(i.$$.fragment)},m(s,_){H(l,s,_),I(s,e,_),H(i,s,_),n=!0},p(s,_){const c=_&1?qe(a,[He(s[0])]):{};l.$set(c);const r={};_&4&&(r.label=s[2]),_&256&&(r.value=s[8]),_&2&&(r.show_label=s[1]),_&8&&(r.root=s[3]),_&16&&(r.root_url=s[4]),_&4096&&(r.grid_cols=s[12]),_&8192&&(r.grid_rows=s[13]),_&16384&&(r.height=s[14]),_&32768&&(r.preview=s[15]),_&131072&&(r.object_fit=s[17]),_&65536&&(r.allow_preview=s[16]),i.$set(r)},i(s){n||(y(l.$$.fragment,s),y(i.$$.fragment,s),n=!0)},o(s){z(l.$$.fragment,s),z(i.$$.fragment,s),n=!1},d(s){M(l,s),s&&L(e),M(i,s)}}}function Xe(t){let l,e;return l=new Se({props:{visible:t[7],variant:"solid",padding:!1,elem_id:t[5],elem_classes:t[6],container:t[9],scale:t[10],min_width:t[11],height:typeof t[14]=="number"?t[14]:void 0,$$slots:{default:[We]},$$scope:{ctx:t}}}),{c(){q(l.$$.fragment)},m(i,n){H(l,i,n),e=!0},p(i,[n]){const a={};n&128&&(a.visible=i[7]),n&32&&(a.elem_id=i[5]),n&64&&(a.elem_classes=i[6]),n&512&&(a.container=i[9]),n&1024&&(a.scale=i[10]),n&2048&&(a.min_width=i[11]),n&16384&&(a.height=typeof i[14]=="number"?i[14]:void 0),n&782623&&(a.$$scope={dirty:n,ctx:i}),l.$set(a)},i(i){e||(y(l.$$.fragment,i),e=!0)},o(i){z(l.$$.fragment,i),e=!1},d(i){M(l,i)}}}function Ye(t,l,e){let{loading_status:i}=l,{show_label:n}=l,{label:a}=l,{root:b}=l,{root_url:s}=l,{elem_id:_=""}=l,{elem_classes:c=[]}=l,{visible:r=!0}=l,{value:g=null}=l,{container:o=!1}=l,{scale:h=1}=l,{min_width:d=void 0}=l,{grid_cols:G=[2]}=l,{grid_rows:k=void 0}=l,{height:m="auto"}=l,{preview:j}=l,{allow_preview:v=!0}=l,{object_fit:C="cover"}=l;function V(f){Me.call(this,t,f)}return t.$$set=f=>{"loading_status"in f&&e(0,i=f.loading_status),"show_label"in f&&e(1,n=f.show_label),"label"in f&&e(2,a=f.label),"root"in f&&e(3,b=f.root),"root_url"in f&&e(4,s=f.root_url),"elem_id"in f&&e(5,_=f.elem_id),"elem_classes"in f&&e(6,c=f.elem_classes),"visible"in f&&e(7,r=f.visible),"value"in f&&e(8,g=f.value),"container"in f&&e(9,o=f.container),"scale"in f&&e(10,h=f.scale),"min_width"in f&&e(11,d=f.min_width),"grid_cols"in f&&e(12,G=f.grid_cols),"grid_rows"in f&&e(13,k=f.grid_rows),"height"in f&&e(14,m=f.height),"preview"in f&&e(15,j=f.preview),"allow_preview"in f&&e(16,v=f.allow_preview),"object_fit"in f&&e(17,C=f.object_fit)},[i,n,a,b,s,_,c,r,g,o,h,d,G,k,m,j,v,C,V]}class Ze extends oe{constructor(l){super(),ae(this,l,Ye,Xe,_e,{loading_status:0,show_label:1,label:2,root:3,root_url:4,elem_id:5,elem_classes:6,visible:7,value:8,container:9,scale:10,min_width:11,grid_cols:12,grid_rows:13,height:14,preview:15,allow_preview:16,object_fit:17})}}const sl=Ze,fl=["static"],ol=t=>({type:{payload:"Array<{ name: string } | [{ name: string }, string]>"},description:{payload:"list of objects, with filename and optional caption,"}});export{sl as Component,ol as document,fl as modes};
//# sourceMappingURL=index-1a95499e.js.map
